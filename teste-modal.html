<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Modal - Nova Solidum</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            padding: 50px;
            font-family: Arial, sans-serif;
        }
        .test-button {
            background: #dc2626;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
        }
        .test-button:hover {
            background: #b91c1c;
        }
        .status {
            margin-top: 20px;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <h1>ðŸ§ª Teste do Modal - Nova Solidum</h1>
    
    <div>
        <button class="test-button btn-primary">Teste 1: BotÃ£o com classe btn-primary</button>
        <button class="test-button" onclick="openModalDirect()">Teste 2: Abrir modal direto</button>
        <button class="test-button" onclick="checkModal()">Teste 3: Verificar modal</button>
    </div>
    
    <div class="status" id="status">
        <strong>Status:</strong> Aguardando teste...
    </div>
    
    <!-- Modal de Registro (cÃ³pia simplificada) -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div class="modal-header">
                <h2 class="modal-title">âœ… Modal Funcionando!</h2>
                <p class="modal-subtitle">Se vocÃª estÃ¡ vendo isso, o modal estÃ¡ abrindo corretamente.</p>
            </div>
            <div style="padding: 20px;">
                <p>Teste bem-sucedido! O modal estÃ¡ funcionando.</p>
                <button class="btn-primary" id="closeTestBtn">Fechar</button>
            </div>
        </div>
    </div>

    <script>
        // VariÃ¡veis globais
        const registerModal = document.getElementById('registerModal');
        const modalClose = document.querySelector('.modal-close');
        const statusDiv = document.getElementById('status');
        
        function updateStatus(msg) {
            statusDiv.innerHTML = `<strong>Status:</strong> ${msg}`;
            console.log('ðŸ“Š Status:', msg);
        }
        
        // FunÃ§Ã£o para abrir modal
        function openModal() {
            console.log('ðŸ”µ openModal() chamada');
            if (registerModal) {
                registerModal.classList.add('show');
                document.body.style.overflow = 'hidden';
                updateStatus('Modal aberto com sucesso! âœ…');
            } else {
                updateStatus('âŒ ERRO: Modal nÃ£o encontrado!');
            }
        }
        
        // FunÃ§Ã£o direta para teste
        function openModalDirect() {
            console.log('ðŸ”µ openModalDirect() chamada');
            openModal();
        }
        
        // FunÃ§Ã£o para fechar modal
        function closeModal() {
            console.log('ðŸ”´ closeModal() chamada');
            if (registerModal) {
                registerModal.classList.remove('show');
                document.body.style.overflow = '';
                updateStatus('Modal fechado.');
            }
        }
        
        // Verificar se modal existe
        function checkModal() {
            const modal = document.getElementById('registerModal');
            console.log('ðŸ” Verificando modal...');
            console.log('Modal element:', modal);
            console.log('Modal classes:', modal ? modal.className : 'N/A');
            
            if (modal) {
                updateStatus(`âœ… Modal encontrado! Classes: "${modal.className}"`);
            } else {
                updateStatus('âŒ Modal NÃƒO encontrado!');
            }
        }
        
        // Event listeners
        if (modalClose) {
            modalClose.addEventListener('click', closeModal);
        }
        
        document.getElementById('closeTestBtn')?.addEventListener('click', closeModal);
        
        // Close modal quando clicar fora
        if (registerModal) {
            registerModal.addEventListener('click', (e) => {
                if (e.target === registerModal) {
                    closeModal();
                }
            });
        }
        
        // Close modal com ESC
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && registerModal && registerModal.classList.contains('show')) {
                closeModal();
            }
        });
        
        // Inicializar botÃµes btn-primary
        function initModalButtons() {
            const buttons = document.querySelectorAll('.btn-primary');
            console.log(`ðŸ”µ Encontrados ${buttons.length} botÃµes com classe .btn-primary`);
            updateStatus(`âœ… Encontrados ${buttons.length} botÃµes .btn-primary`);
            
            buttons.forEach((button, index) => {
                button.addEventListener('click', (e) => {
                    console.log(`ðŸ”µ BotÃ£o ${index + 1} clicado`);
                    e.preventDefault();
                    openModal();
                });
            });
        }
        
        // Executar quando DOM estiver pronto
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initModalButtons);
        } else {
            initModalButtons();
        }
        
        console.log('âœ… Script de teste carregado!');
    </script>
</body>
</html>
